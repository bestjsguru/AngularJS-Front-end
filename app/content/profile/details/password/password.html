<span class="heading">Password</span>
<div class="container-fluid">
    <form name="$ctrl.form" novalidate>
        <div class="row">
            <div class="col-md-3 col-sm-12">
                <div class="form-group">
                    <label>Your current password:</label>
                    <input type="password" name="oldPassword" ng-model="$ctrl.userData.oldPassword" placeholder="Your current password"
                           class="form-control" required>
                    <div class="error-messages" ng-messages="$ctrl.form.oldPassword.$error"
                         ng-if="$ctrl.dirty($ctrl.form.oldPassword)">
                        <div ng-messages-include="error-messages"></div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 col-xs-6">
                <div class="form-group">
                    <label>Your new password:</label>

                    <input type="password" name="password" ng-model="$ctrl.userData.password"
                           placeholder="Your new password" class="form-control"
                           tu-no-personal-info="{{$ctrl.userData}}" tu-password-policies
                           ng-minlength="8" required>

                    <div class="error-messages" ng-messages="$ctrl.form.password.$error"
                         ng-if="$ctrl.dirty($ctrl.form.password)">
                        <div ng-message="minlength">Your new password is required to be at least 8
                            characters.
                        </div>
                        <div ng-message="noPersonalInfo">Your new password should not contain your
                            first name, last name, or your email.
                        </div>
                        <div ng-message="policies">
                            <span>Your password is required to have characters from all four categories: </span><br>
                            <ul>
                                <li>English uppercase alphabet characters (A–Z)</li>
                                <li>English lowercase alphabet characters (a–z)</li>
                                <li>Base 10 digits (0–9)</li>
                                <li>Non-alphanumeric characters (for example, !$#,%)</li>
                            </ul>
                        </div>
                        <div ng-messages-include="error-messages"></div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 col-xs-6">
                <div class="form-group">
                    <label>Repeat new password:</label>
                    <!-- We have double field in order to be able to have password confirm required only if password is set -->
                    <input type="password"
                           name="passwordConfirm" ng-model="$ctrl.userData.passwordConfirm"
                           placeholder="Repeat new password" class="form-control"
                           tu-equals="{{$ctrl.userData.password}}" required>

                    <div class="error-messages"
                         ng-messages="$ctrl.form.passwordConfirm.$error"
                         ng-if="$ctrl.dirty($ctrl.form.passwordConfirm)">
                        <div ng-message="equals">This field should match your new password.</div>
                        <div ng-messages-include="error-messages"></div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-4 col-md-offset-0 col-sm-offset-4">
                <label>&nbsp;</label>
                <button type="button" class="btn btn-lg btn-block text-uppercase"
                        ng-click="$ctrl.save()" ng-disabled="$ctrl.submitting"
                        ng-class="{'btn-fourth': $ctrl.submitting, 'btn-first': !$ctrl.submitting}">
                    Change password
                </button>
            </div>
        </div>
    </form>
</div>
